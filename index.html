<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Minimalist Resume Builder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', Arial, sans-serif;
      margin: 0;
      background: #f0f2f5;
      color: #222;
      font-size: 1em;
    }
    .container {
      max-width: 850px;
      margin: 30px auto;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      padding: 35px 30px;
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
    }
    .form-section {
      flex: 1;
      min-width: 300px;
    }
    label {
      font-weight: 600;
      margin-top: 15px;
      display: block;
      color: #34495e;
      font-size: 0.95em;
    }
    input, textarea, select {
      width: 100%;
      padding: 10px 15px;
      margin-top: 8px;
      margin-bottom: 20px;
      border: 1px solid #dcdfe6;
      border-radius: 8px;
      font-size: 1em;
      background: #ffffff;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: #007bff;
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
    }
    textarea {
      resize: vertical;
      min-height: 60px;
    }
    button[type="button"] {
      background: #007bff;
      color: #fff;
      border: none;
      padding: 12px 28px;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      margin-top: 20px;
      font-weight: 600;
      transition: background 0.2s ease, transform 0.1s ease;
      box-shadow: 0 4px 10px rgba(0, 123, 255, 0.2);
    }
    button[type="button"]:hover {
      background: #0056b3;
      transform: translateY(-1px);
    }
    button[type="button"]:active {
      background: #004494;
      transform: translateY(0);
    }
    .resume-preview {
      background: #ffffff;
      padding: 40px 35px;
      flex: 2;
      min-width: 400px;
      margin: 0;
      color: #2c3e50;
      font-size: 1em;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      min-height: 700px;
      line-height: 1.5;
      position: relative;
    }
    /* Minimalist (default) */
    .resume-header {
      margin-bottom: 15px;
      text-align: center;
      position: relative;
    }
    .resume-header h1 {
      color: #007bff;
      font-size: 1.55em;
      font-weight: 700;
      margin: 10px 0 0 0;
      letter-spacing: 1.2px;
      text-transform: uppercase;
    }
    .contact-email-phone {
      font-size: 0.97em;
      color: #34495e;
      margin-bottom: 5px;
      margin-top: 5px;
      letter-spacing: 0.15px;
      font-weight: 500;
    }
    .contact-social-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      margin-top: 2px;
      gap: 10px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    .contact-link {
      display: flex;
      align-items: center;
      font-size: 1em;
      color: #222;
      font-weight: 500;
      gap: 6px;
      text-decoration: none;
      transition: color 0.2s;
      min-width: 0;
    }
    .contact-link .icon {
      width: 20px;
      height: 20px;
      vertical-align: middle;
      margin-right: 2px;
    }
    .contact-link .linkedin-text {
      display: flex;
      align-items: center;
      gap: 2px;
    }
    .contact-link:hover {
      color: #007bff;
      text-decoration: underline;
    }
    .contact-link.left-link {
      justify-content: flex-start;
      flex: 1;
      text-align: left;
    }
    .contact-link.right-link {
      justify-content: flex-end;
      flex: 1;
      text-align: right;
    }
    .contact-social-row > span {
      flex: 1;
    }
    .profile-pic-preview {
      width: 110px;
      height: 110px;
      object-fit: cover;
      border-radius: 16px;
      border: 3px solid #007bff;
      margin: 0 auto 10px auto;
      display: block;
      background: #e3eafc;
    }
    .section-title {
      color: #007bff;
      font-weight: 700;
      text-transform: uppercase;
      font-size: 1.10em;
      margin-top: 28px;
      margin-bottom: 8px;
      letter-spacing: 0.7px;
      border-bottom: 2px solid #e3eafc;
      padding-bottom: 4px;
    }
    ul {
      padding-left: 25px;
      margin: 0 0 15px 0;
      word-break: break-word;
    }
    ul li {
      margin-bottom: 4px;
      list-style: none;
      position: relative;
      padding-left: 18px;
      font-size: 0.99em;
      word-break: break-word;
      line-height: 1.5;
    }
    ul.bullet-dot li:before {
      content: "â€¢";
      color: #007bff;
      font-size: 1.2em;
      position: absolute;
      left: 0;
      top: 0;
      line-height: 1.5;
    }
    .bold {
      font-weight: 600;
      color: #2c3e50;
    }
    .underline {
      text-decoration: underline;
    }
    /* Template 2: Classic Two-Column */
    .classic-two-col {
      display: flex;
      gap: 40px;
    }
    .classic-left, .classic-right {
      flex: 1;
    }
    .classic-header {
      text-align: left;
      margin-bottom: 20px;
    }
    .classic-header h1 {
      font-size: 2em;
      font-weight: 700;
      margin: 0;
      color: #222;
    }
    .classic-contact {
      font-size: 0.97em;
      margin-bottom: 18px;
      color: #555;
      line-height: 1.4;
    }
    .classic-section-title {
      color: #007bff;
      font-weight: 700;
      text-transform: uppercase;
      font-size: 1.05em;
      margin-top: 24px;
      margin-bottom: 8px;
      letter-spacing: 0.7px;
      border-bottom: 2px solid #e3eafc;
      padding-bottom: 4px;
    }
    .classic-profile-pic {
      width: 90px;
      height: 90px;
      object-fit: cover;
      border-radius: 14px;
      border: 2px solid #007bff;
      margin-bottom: 18px;
      display: block;
      background: #e3eafc;
    }
    /* Template 3: Modern Green */
    .modern-green-header {
      border-top: 5px solid #20b883;
      padding-top: 10px;
      margin-bottom: 16px;
      text-align: left;
    }
    .modern-green-header h1 {
      color: #20b883;
      font-size: 1.6em;
      font-weight: 700;
      margin: 0;
    }
    .modern-green-title {
      color: #555;
      font-size: 1.08em;
      font-weight: 500;
      margin-bottom: 3px;
    }
    .modern-green-contact {
      font-size: 0.97em;
      color: #34495e;
      margin-bottom: 8px;
      margin-top: 3px;
      font-weight: 500;
    }
    .modern-green-section-title {
      color: #20b883;
      font-weight: 700;
      text-transform: uppercase;
      font-size: 1.07em;
      margin-top: 24px;
      margin-bottom: 8px;
      letter-spacing: 0.7px;
      border-bottom: 2px solid #e3eafc;
      padding-bottom: 4px;
    }
    .modern-green-profile-pic {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 16px;
      border: 2.5px solid #20b883;
      margin-bottom: 10px;
      display: block;
      background: #e3eafc;
    }
    /* Responsive */
    @media (max-width: 850px) {
      .container {
        flex-direction: column;
        padding: 20px;
      }
      .form-section, .resume-preview {
        min-width: unset;
        width: 100%;
      }
      .resume-preview {
        padding: 25px 20px;
        font-size: 1em;
      }
      .resume-header h1 {
        font-size: 1.25em;
      }
      .section-title {
        font-size: 1em;
      }
      ul li {
        font-size: 0.97em;
      }
      .profile-pic-preview {
        width: 80px;
        height: 80px;
      }
      .contact-email-phone {
        font-size: 1em;
      }
      .classic-two-col {
        flex-direction: column;
        gap: 0;
      }
    }
    @media (max-width: 500px) {
      .container {
        margin: 15px auto;
        padding: 15px;
      }
      input, textarea, select {
        padding: 8px 12px;
      }
      button {
        padding: 10px 20px;
        font-size: 0.95em;
      }
      .resume-header h1 {
        font-size: 1.05em;
      }
      .section-title {
        font-size: 0.98em;
      }
      ul li {
        font-size: 0.95em;
      }
      .profile-pic-preview {
        width: 70px;
        height: 70px;
      }
      .contact-email-phone {
        font-size: 0.97em;
      }
      .classic-profile-pic, .modern-green-profile-pic {
        width: 60px;
        height: 60px;
      }
    }
  </style>
</head>
<body>
<h1 style = "colour: "blue"">RESUME BUILDER </h1>
  <div class="container">
    <div class="form-section">
      <label for="templateSelect">Select Resume Template</label>
      <select id="templateSelect">
        <option value="minimal">Minimalist (Default)</option>
        <option value="classic">Classic Two-Column</option>
        <option value="modern">Modern Green</option>
      </select>
      <form id="resumeForm" autocomplete="off">
        <label for="profilePic">Profile Image (square recommended)</label>
        <input type="file" id="profilePic" accept="image/*">

        <label for="name">Name</label>
        <input type="text" id="name" placeholder="YOUR NAME" required>

        <label for="email">Email</label>
        <input type="email" id="email" placeholder="YOUR_NAME@gmail.com">

        <label for="phone">Phone</label>
        <input type="text" id="phone" placeholder="(+91) 0000000000">

        <label for="linkedin">LinkedIn Profile URL</label>
        <input type="text" id="linkedin" placeholder="linkedin.com/in/yourname">

        <label for="github">GitHub Profile URL</label>
        <input type="text" id="github" placeholder="github.com/yourname">

        <label for="skills">Skills (One per line, use &lt;b&gt;bold&lt;/b&gt; for emphasis: &lt;b&gt;HTML&lt;/b&gt;, CSS, JS)</label>
        <textarea id="skills" placeholder="Java&#10;HTML, CSS, JavaScript&#10;Python"></textarea>

        <label for="education">Education (Format: Degree | University, Location | Year)</label>
        <textarea id="education" placeholder="College Board | College&#10;CGPA: X.X/X&#10;Year"></textarea>

        <label for="experience">Experience (Format: Position | Company | Year&#10;Description with &lt;b&gt;bold&lt;/b&gt; words)</label>
        <textarea id="experience" placeholder="Your Position | Company&#10;Year&#10;Work that you did"></textarea>

        <label for="projects">Academic Projects (Format: Project Title | Technologies Used&#10;Key contributions or features. Paste GitHub link to auto-link)</label>
        <textarea id="projects" placeholder="Project Title&#10;Project details&#10;https://github.com/your/project"></textarea>

        <label for="por">Position of Responsibility (Format: Role | Organization, College (Dates)&#10;Key responsibilities or achievements with &lt;b&gt;bold&lt;/b&gt; words)</label>
        <textarea id="por" placeholder="Society Title | Society, College (Date-Present)&#10;Details"></textarea>

        <label for="achievements">Achievements (One per line, use &lt;b&gt;bold&lt;/b&gt; for emphasis)</label>
        <textarea id="achievements" placeholder="Mention your achievements"></textarea>

        <button type="button" onclick="downloadPDF()">Download PDF</button>
      </form>
    </div>
    <div class="resume-preview" id="resumePreview"></div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    let profilePicData = '';
    // For demo images if no user image uploaded
    const demoImages = {
      classic: "https://pplx-res.cloudinary.com/image/upload/v1748357886/user_uploads/54037463/2e3bcea3-1b0c-46e9-962b-1e72c5922a66/1000087119.jpg",
      modern: "https://pplx-res.cloudinary.com/image/upload/v1748357889/user_uploads/54037463/91fd353d-a6c4-440b-a7eb-f754ef51825b/1000087120.jpg"
    };

    function icon(name) {
      if (name === "github") {
        return `<svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.6 0-12 5.4-12 12 0 5.3 3.4 9.8 8.2 11.4.6.1.8-.3.8-.6v-2.1c-3.3.7-4-1.4-4-1.4-.5-1.2-1.2-1.5-1.2-1.5-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1.7 1.8 1.7 2.2.1-.7.4-1.2.7-1.5-2.7-.3-5.5-1.3-5.5-6a4.7 4.7 0 0 1 1.2-3.2c-.1-.3-.5-1.6.1-3.3 0 0 1-.3 3.3 1.2a11.2 11.2 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.7.2 3 .1 3.3a4.7 4.7 0 0 1 1.2 3.2c0 4.7-2.8 5.7-5.5 6 .4.3.8 1 .8 2v3c0 .3.2.7.8.6C20.6 22.1 24 17.6 24 12.3c0-6.6-5.4-12-12-12"/></svg>`;
      }
      if (name === "linkedin") {
        return `<svg class="icon" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.327-.024-3.037-1.849-3.037-1.851 0-2.132 1.445-2.132 2.94v5.666h-3.554V9h3.414v1.561h.049c.476-.9 1.637-1.849 3.372-1.849 3.602 0 4.267 2.369 4.267 5.455v6.285zM5.337 7.433a2.062 2.062 0 1 1 0-4.124 2.062 2.062 0 0 1 0 4.124zM7.119 20.452H3.554V9h3.565v11.452z"/></svg>`;
      }
      return "";
    }
    function applyFormatting(text) {
      return text
        .replace(/<b>(.*?)<\/b>/g, '<span class="bold">$1</span>')
        .replace(/<u>(.*?)<\/u>/g, '<span class="underline">$1</span>');
    }
    function getListHTML(text, section) {
      if (!text.trim()) return '';
      const lines = text.split('\n').filter(Boolean);
      return `<ul class="bullet-dot">` +
        lines.map(line => {
          if (section === 'projects') {
            const githubRegex = /(https?:\/\/)?(www\.)?github\.com\/[^\s)]+/gi;
            let githubLinks = line.match(githubRegex);
            let html = applyFormatting(line.replace(githubRegex, '').trim());
            if (githubLinks) {
              githubLinks = Array.from(new Set(githubLinks));
              html += ' ';
              html += githubLinks.map(link =>
                `<a href="${link.startsWith('http') ? link : 'https://' + link}" class="contact-link" target="_blank">${icon('github')}GitHub Project</a>`
              ).join(' ');
            }
            return `<li>${html}</li>`;
          }
          const parts = line.split('|');
          if (parts.length > 1) {
            const title = applyFormatting(parts[0].trim());
            const description = applyFormatting(parts.slice(1).join('|').trim());
            return `<li><span class="bold">${title}</span> | ${description}</li>`;
          }
          return `<li>${applyFormatting(line)}</li>`;
        }).join('') +
        '</ul>';
    }
    function extractGithubUsername(url) {
      url = url.replace(/^https?:\/\//, '').replace(/^www\./, '').replace(/\/$/, '');
      let match = url.match(/github\.com\/([A-Za-z0-9-_.]+)/);
      return match ? '@' + match[1] : url;
    }
    function extractLinkedinUsername(url) {
      url = url.replace(/^https?:\/\//, '').replace(/^www\./, '').replace(/\/$/, '');
      let match = url.match(/linkedin\.com\/in\/([A-Za-z0-9-_.]+)/);
      return match ? '/' + match[1] : url;
    }
    // Profile Pic Preview
    document.getElementById('profilePic').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(evt) {
          profilePicData = evt.target.result;
          updatePreview();
        };
        reader.readAsDataURL(file);
      } else {
        profilePicData = '';
        updatePreview();
      }
    });

    // Main Preview Function
    function updatePreview() {
      const template = document.getElementById('templateSelect').value;
      const name = document.getElementById('name').value || 'YOUR NAME';
      const email = document.getElementById('email').value || 'YOUR_NAME@gmail.com';
      const phone = document.getElementById('phone').value || '(+91) 0000000000';
      const linkedin = document.getElementById('linkedin').value;
      const github = document.getElementById('github').value;
      const skills = getListHTML(document.getElementById('skills').value, 'skills');
      const education = getListHTML(document.getElementById('education').value, 'education');
      const experience = getListHTML(document.getElementById('experience').value, 'experience');
      const projects = getListHTML(document.getElementById('projects').value, 'projects');
      const por = getListHTML(document.getElementById('por').value, 'por');
      const achievements = getListHTML(document.getElementById('achievements').value, 'achievements');

      // Minimalist (default)
      if (template === "minimal") {
        document.getElementById('resumePreview').innerHTML = `
          <div class="resume-header">
            ${profilePicData ? `<img src="${profilePicData}" class="profile-pic-preview" alt="Profile Picture">` : ''}
            <h1>${name}</h1>
            <div class="contact-email-phone">
              ${email}${(email && phone) ? ' | ' : ''}${phone}
            </div>
            <div class="contact-social-row">
              ${github ? `<a class="contact-link left-link" href="https://${github}" target="_blank">${icon('github')}<span>${extractGithubUsername(github)}</span></a>` : '<span></span>'}
              ${linkedin ? `<a class="contact-link right-link" href="https://${linkedin}" target="_blank"><span class="linkedin-text">${icon('linkedin')} ${extractLinkedinUsername(linkedin)}</span></a>` : '<span></span>'}
            </div>
          </div>
          <div>
            ${skills ? `<div class="section-title">Skills</div>${skills}` : ''}
            ${education ? `<div class="section-title">Education</div>${education}` : ''}
            ${experience ? `<div class="section-title">Experience</div>${experience}` : ''}
            ${projects ? `<div class="section-title">Academic Projects</div>${projects}` : ''}
            ${por ? `<div class="section-title">Position of Responsibility</div>${por}` : ''}
            ${achievements ? `<div class="section-title">Achievements</div>${achievements}` : ''}
          </div>
        `;
      }
      // Classic Two-Column
      else if (template === "classic") {
        document.getElementById('resumePreview').innerHTML = `
          <div class="classic-two-col">
            <div class="classic-left">
              <div class="classic-header">
                ${profilePicData ? `<img src="${profilePicData}" class="classic-profile-pic" alt="Profile Picture">` : `<img src="${demoImages.classic}" class="classic-profile-pic" alt="Profile Picture">`}
                <h1>${name}</h1>
                <div class="classic-contact">
                  ${email}<br>${phone}
                  ${github ? `<br><a class="contact-link" href="https://${github}" target="_blank">${icon('github')}<span>${extractGithubUsername(github)}</span></a>` : ''}
                  ${linkedin ? `<br><a class="contact-link" href="https://${linkedin}" target="_blank"><span class="linkedin-text">${icon('linkedin')} ${extractLinkedinUsername(linkedin)}</span></a>` : ''}
                </div>
              </div>
              ${skills ? `<div class="classic-section-title">Skills</div>${skills}` : ''}
              ${education ? `<div class="classic-section-title">Education</div>${education}` : ''}
            </div>
            <div class="classic-right">
              ${experience ? `<div class="classic-section-title">Experience</div>${experience}` : ''}
              ${projects ? `<div class="classic-section-title">Academic Projects</div>${projects}` : ''}
              ${por ? `<div class="classic-section-title">Position of Responsibility</div>${por}` : ''}
              ${achievements ? `<div class="classic-section-title">Achievements</div>${achievements}` : ''}
            </div>
          </div>
        `;
      }
      
     
      // Modern Green
      else if (template === "modern") {
        document.getElementById('resumePreview').innerHTML = `
          <div class="modern-green-header">
            ${profilePicData ? `<img src="${profilePicData}" class="modern-green-profile-pic" alt="Profile Picture">` : `<img src="${demoImages.modern}" class="modern-green-profile-pic" alt="Profile Picture">`}
            <h1>${name}</h1>
            <div class="modern-green-title">Industrial Designer</div>
            <div class="modern-green-contact">
              ${email} | ${phone}
              ${github ? `<br><a class="contact-link" href="https://${github}" target="_blank">${icon('github')}<span>${extractGithubUsername(github)}</span></a>` : ''}
              ${linkedin ? `<br><a class="contact-link" href="https://${linkedin}" target="_blank"><span class="linkedin-text">${icon('linkedin')} ${extractLinkedinUsername(linkedin)}</span></a>` : ''}
            </div>
          </div>
          <div>
            ${skills ? `<div class="modern-green-section-title">Skills</div>${skills}` : ''}
            ${experience ? `<div class="modern-green-section-title">Experience</div>${experience}` : ''}
            ${education ? `<div class="modern-green-section-title">Education</div>${education}` : ''}
            ${projects ? `<div class="modern-green-section-title">Academic Projects</div>${projects}` : ''}
            ${por ? `<div class="modern-green-section-title">Position of Responsibility</div>${por}` : ''}
            ${achievements ? `<div class="modern-green-section-title">Achievements</div>${achievements}` : ''}
          </div>
        `;
      }
    }
    // Live update on input and template select
    document.querySelectorAll('input, textarea, #templateSelect').forEach(el => {
      el.addEventListener('input', updatePreview);
      el.addEventListener('blur', updatePreview);
      el.addEventListener('change', updatePreview);
    });
    window.onload = updatePreview;

    // PDF Download
    function downloadPDF() {
      const preview = document.getElementById('resumePreview');
      const { jsPDF } = window.jspdf;

      html2canvas(preview, {
        scale: 2,
        useCORS: true,
        scrollY: -window.scrollY
      }).then(canvas => {
        const imgData = canvas.toDataURL('image/png');
        const pdf = new jsPDF({
          orientation: 'portrait',
          unit: 'pt',
          format: 'a4'
        });

        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = pdf.internal.pageSize.getHeight();
        const imgWidth = pdfWidth - 40;
        const imgHeight = canvas.height * imgWidth / canvas.width;

        let position = 20;
        let heightLeft = imgHeight;

        pdf.addImage(imgData, 'PNG', 20, position, imgWidth, imgHeight, '', 'FAST');
        heightLeft -= pdfHeight - 40;

        while (heightLeft > 0) {
          pdf.addPage();
          position = 0;
          pdf.addImage(imgData, 'PNG', 20, position - heightLeft, imgWidth, imgHeight, '', 'FAST');
          heightLeft -= pdfHeight - 40;
        }

        const name = document.getElementById('name').value || 'resume';
        pdf.save(`${name.replace(/\s+/g, '_')}_resume.pdf`);
      });
    }
  </script>
</body>
</html>